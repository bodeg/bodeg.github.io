"use strict";(self.webpackChunkGalbit=self.webpackChunkGalbit||[]).push([[171],{4171:(z,f,i)=>{i.r(f),i.d(f,{ApplianceModule:()=>F});var h=i(4466),_=i(1771),b=i(2577),p=i(4182),s=i(8609),d=(()=>{return(t=d||(d={}))[t.Undefined=0]="Undefined",t[t.Refrigerator=1]="Refrigerator",t[t.Freezer=2]="Freezer",t[t.AirConditioner=3]="AirConditioner",t[t.Other=4]="Other",d;var t})();const C=(0,s.Uoq)(d);var e=i(6435);let x=(()=>{class t{constructor(n){this.restService=n,this.apiName="Default",this.create=o=>this.restService.request({method:"POST",url:"/api/app/appliance",body:o},{apiName:this.apiName}),this.delete=o=>this.restService.request({method:"DELETE",url:`/api/app/appliance/${o}`},{apiName:this.apiName}),this.get=o=>this.restService.request({method:"GET",url:`/api/app/appliance/${o}`},{apiName:this.apiName}),this.getBrandLookup=()=>this.restService.request({method:"GET",url:"/api/app/appliance/brand-lookup"},{apiName:this.apiName}),this.getGadgetLookup=()=>this.restService.request({method:"GET",url:"/api/app/appliance/gadget-lookup"},{apiName:this.apiName}),this.getList=o=>this.restService.request({method:"GET",url:"/api/app/appliance",params:{skipCount:o.skipCount,maxResultCount:o.maxResultCount,sorting:o.sorting}},{apiName:this.apiName}),this.update=(o,l)=>this.restService.request({method:"PUT",url:`/api/app/appliance/${o}`,body:l},{apiName:this.apiName})}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(s.vgb))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Z=i(4850),m=i(1765),T=i(6344),u=i(6166),v=i(8376),A=i(3951),g=i(9808);function N(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"app-list-row-actions",12),e.NdJ("editClick",function(){const r=e.CHM(n).row;return e.oxw().edit(r.id)})("deleteClick",function(){const r=e.CHM(n).row;return e.oxw().delete(r.id)}),e.qZA()}if(2&t){const n=e.oxw();e.Q6J("permissions",n.permissions)}}function q(t,a){1&t&&(e._uU(0),e.ALo(1,"abpLocalization")),2&t&&e.hij(" ",e.lcZ(1,1,"::Enum:ApplianceType:"+a.row.type)," ")}function J(t,a){1&t&&(e._uU(0),e.ALo(1,"currency")),2&t&&e.hij(" ",e.lcZ(1,1,a.row.price)," ")}function O(t,a){if(1&t&&(e.TgZ(0,"h3"),e._uU(1),e.ALo(2,"abpLocalization"),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,1,n.selectedDto.id?"::Edit":"::NewAppliance"))}}function U(t,a){if(1&t&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&t){const n=a.$implicit;e.Q6J("ngValue",n.value),e.xp6(1),e.hij(" ",n.key,"")}}function L(t,a){if(1&t&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&t){const n=a.$implicit;e.Q6J("ngValue",n.id),e.xp6(1),e.hij(" ",n.name," ")}}function y(t,a){if(1&t&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&t){const n=a.$implicit;e.Q6J("ngValue",n.id),e.xp6(1),e.hij(" ",n.model," ")}}function Q(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"form",13),e.NdJ("ngSubmit",function(){return e.CHM(n),e.oxw().save()}),e.TgZ(1,"div",14),e.TgZ(2,"label",15),e._uU(3,"Name"),e.qZA(),e.TgZ(4,"span"),e._uU(5," * "),e.qZA(),e._UZ(6,"input",16),e.qZA(),e.TgZ(7,"div",14),e.TgZ(8,"label",17),e._uU(9,"Type"),e.qZA(),e.TgZ(10,"span"),e._uU(11," * "),e.qZA(),e.TgZ(12,"select",18),e.TgZ(13,"option",19),e._uU(14,"Select an appliance type"),e.qZA(),e.YNc(15,U,2,2,"option",20),e.qZA(),e.qZA(),e.TgZ(16,"div",21),e.TgZ(17,"label",22),e._uU(18,"Author"),e.qZA(),e.TgZ(19,"span"),e._uU(20," * "),e.qZA(),e.TgZ(21,"select",23),e.TgZ(22,"option",19),e._uU(23,"Select brand"),e.qZA(),e.YNc(24,L,2,2,"option",20),e.ALo(25,"async"),e.qZA(),e.qZA(),e.TgZ(26,"div",21),e.TgZ(27,"label",24),e._uU(28,"Author"),e.qZA(),e.TgZ(29,"select",25),e.TgZ(30,"option",19),e._uU(31,"Select gadget"),e.qZA(),e.YNc(32,y,2,2,"option",20),e.ALo(33,"async"),e.qZA(),e.qZA(),e.TgZ(34,"div",14),e.TgZ(35,"label",26),e._uU(36,"Price"),e.qZA(),e.TgZ(37,"span"),e._uU(38," * "),e.qZA(),e._UZ(39,"input",27),e.qZA(),e.qZA()}if(2&t){const n=e.oxw();e.Q6J("formGroup",n.form),e.xp6(6),e.Q6J("formControlName",n.nameOf("model")),e.xp6(6),e.Q6J("formControlName",n.nameOf("type")),e.xp6(1),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",n.applianceTypes),e.xp6(6),e.Q6J("formControlName",n.nameOf("brandId")),e.xp6(1),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",e.lcZ(25,12,n.brands$)),e.xp6(5),e.Q6J("formControlName",n.nameOf("gadgetId")),e.xp6(1),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",e.lcZ(33,14,n.gadgets$)),e.xp6(7),e.Q6J("formControlName",n.nameOf("price"))}}function S(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"button",28),e._uU(1),e.ALo(2,"abpLocalization"),e.qZA(),e.TgZ(3,"button",29),e.NdJ("click",function(){return e.CHM(n),e.oxw().save()}),e._UZ(4,"i",30),e._uU(5),e.ALo(6,"abpLocalization"),e.qZA()}if(2&t){const n=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,3,"::Close")," "),e.xp6(2),e.Q6J("disabled",n.form.invalid),e.xp6(2),e.hij(" ",e.lcZ(6,5,"::Save")," ")}}const Y=[{path:"",component:(()=>{class t extends b.u{constructor(n,o,l,r){super(n,o,l),this.applianceService=r,this.permissions={create:"Galbit.Appliances.Create",edit:"Galbit.Appliances.Edit",delete:"Galbit.Appliances.Delete"},this.applianceTypes=C,this.nameOf=c=>c,this.brands$=r.getBrandLookup().pipe((0,Z.U)(c=>c.items)),this.gadgets$=r.getGadgetLookup().pipe((0,Z.U)(c=>c.items))}get crudService(){return this.applianceService}ngOnInit(){super.ngOnInit()}buildForm(){const n={};n[this.nameOf("model")]=[this.selectedDto.model||"",p.kI.required],n[this.nameOf("type")]=[this.selectedDto.type||null,p.kI.required],n[this.nameOf("brandId")]=[this.selectedDto.brandId||null,p.kI.required],n[this.nameOf("gadgetId")]=[this.selectedDto.gadgetId||null],n[this.nameOf("price")]=[this.selectedDto.price||null],this.form=this.fb.group(n)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(s.XNV),e.Y36(p.qu),e.Y36(m.YP),e.Y36(x))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-appliance"]],features:[e._Bn([]),e.qOj],decls:26,vars:33,consts:[[1,"card"],[3,"title","permission","buttonText","buttonClick"],[1,"card-body"],["default","",3,"rows","count","list"],[3,"name","maxWidth","sortable"],["ngx-datatable-cell-template",""],[3,"name","prop","sortable"],[3,"name","prop"],[3,"visible","visibleChange"],["abpHeader",""],["abpBody",""],["abpFooter",""],[3,"permissions","editClick","deleteClick"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["for","appliance-model"],["type","text","id","appliance-model","autofocus","",1,"form-control",3,"formControlName"],["for","appliance-type"],["id","appliance-type",1,"form-control",3,"formControlName"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-group"],["for","brand-id"],["id","brand-id",1,"form-control",3,"formControlName"],["for","gadget-id"],["id","gadget-id",1,"form-control",3,"formControlName"],["for","price"],["type","number","id","price",1,"form-control",3,"formControlName"],["type","button","abpClose","",1,"btn","btn-secondary"],[1,"btn","btn-primary",3,"disabled","click"],[1,"fa","fa-check","mr-1"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"app-list-header",1),e.NdJ("buttonClick",function(){return o.create()}),e.qZA(),e.TgZ(2,"div",2),e.TgZ(3,"ngx-datatable",3),e.TgZ(4,"ngx-datatable-column",4),e.ALo(5,"abpLocalization"),e.YNc(6,N,1,1,"ng-template",5),e.qZA(),e._UZ(7,"ngx-datatable-column",6),e.ALo(8,"abpLocalization"),e._UZ(9,"ngx-datatable-column",7),e.ALo(10,"abpLocalization"),e._UZ(11,"ngx-datatable-column",7),e.ALo(12,"abpLocalization"),e.TgZ(13,"ngx-datatable-column",7),e.ALo(14,"abpLocalization"),e.YNc(15,q,2,3,"ng-template",5),e.qZA(),e.TgZ(16,"ngx-datatable-column",7),e.ALo(17,"abpLocalization"),e.YNc(18,J,2,3,"ng-template",5),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"abp-modal",8),e.NdJ("visibleChange",function(r){return o.isModalOpen=r}),e.YNc(20,O,3,3,"ng-template",null,9,e.W1O),e.YNc(22,Q,40,16,"ng-template",null,10,e.W1O),e.YNc(24,S,7,7,"ng-template",null,11,e.W1O),e.qZA()),2&n&&(e.xp6(1),e.Q6J("title","::Menu:Appliances")("permission",o.permissions.create)("buttonText","::NewGadget"),e.xp6(2),e.Q6J("rows",o.pagedResultDto.items)("count",o.pagedResultDto.totalCount)("list",o.list),e.xp6(1),e.Q6J("name",e.lcZ(5,21,"::Actions"))("maxWidth",150)("sortable",!1),e.xp6(3),e.Q6J("name",e.lcZ(8,23,"::Brand"))("prop",o.nameOf("brandName"))("sortable",!1),e.xp6(2),e.Q6J("name",e.lcZ(10,25,"::Model"))("prop",o.nameOf("model")),e.xp6(2),e.Q6J("name",e.lcZ(12,27,"::Gadget"))("prop",o.nameOf("gadgetModel")),e.xp6(2),e.Q6J("name",e.lcZ(14,29,"::Type"))("prop",o.nameOf("type")),e.xp6(3),e.Q6J("name",e.lcZ(17,31,"::Price"))("prop",o.nameOf("price")),e.xp6(3),e.Q6J("visible",o.isModalOpen))},directives:[T._,u.nE,m.x7,m.j3,u.UC,u.vq,v.b,m.zS,p._Y,p.JL,s.YzZ,p.sg,A.hL,p.Fj,s.Uqp,p.JJ,p.u,A.J5,p.EJ,p.YN,p.Kr,g.sg,p.wV,m.YM],pipes:[s.fuE,g.H9,g.Ov],styles:[""]}),t})()}];let w=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[_.Bz.forChild(Y)],_.Bz]}),t})(),F=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[h.m,w]]}),t})()}}]);