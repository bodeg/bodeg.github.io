"use strict";(self.webpackChunkGalbit=self.webpackChunkGalbit||[]).push([[508],{4508:(In,xt,f)=>{f.d(xt,{ex:()=>w,uk:()=>k,QC:()=>E,gt:()=>dn,m5:()=>_n,X6:()=>A,Od:()=>F,lg:()=>rn,_V:()=>fn,JE:()=>I,Ms:()=>gn,se:()=>xn,ot:()=>Dn,V_:()=>Nn,Fr:()=>hn,Hp:()=>Tn});var t=f(6435),m=f(9808),_=f(6461),l=f(4182),y=f(3951),d=f(8609),C=f(1086),bt=f(6787),Tt=f(4843),yt=f(1746),b=f(4850),Ct=f(13),vt=f(5778),V=f(7545),wt=f(2198),U=f(2986),T=f(6663);class Y{constructor(n){this.value=n}}class N{constructor(){this.size=0}get head(){return this.first}get tail(){return this.last}get length(){return this.size}attach(n,e,i){if(!e)return this.addHead(n);if(!i)return this.addTail(n);const r=new Y(n);return r.previous=e,e.next=r,r.next=i,i.previous=r,this.size++,r}attachMany(n,e,i){if(!n.length)return[];if(!e)return this.addManyHead(n);if(!i)return this.addManyTail(n);const r=new N;return r.addManyTail(n),r.first.previous=e,e.next=r.first,r.last.next=i,i.previous=r.last,this.size+=n.length,r.toNodeArray()}detach(n){return n.previous?n.next?(n.previous.next=n.next,n.next.previous=n.previous,this.size--,n):this.dropTail():this.dropHead()}add(n){return{after:(...e)=>this.addAfter.call(this,n,...e),before:(...e)=>this.addBefore.call(this,n,...e),byIndex:e=>this.addByIndex(n,e),head:()=>this.addHead(n),tail:()=>this.addTail(n)}}addMany(n){return{after:(...e)=>this.addManyAfter.call(this,n,...e),before:(...e)=>this.addManyBefore.call(this,n,...e),byIndex:e=>this.addManyByIndex(n,e),head:()=>this.addManyHead(n),tail:()=>this.addManyTail(n)}}addAfter(n,e,i=T.Z){const r=this.find(a=>i(a.value,e));return r?this.attach(n,r,r.next):this.addTail(n)}addBefore(n,e,i=T.Z){const r=this.find(a=>i(a.value,e));return r?this.attach(n,r.previous,r):this.addHead(n)}addByIndex(n,e){if(e<0)e+=this.size;else if(e>=this.size)return this.addTail(n);if(e<=0)return this.addHead(n);const i=this.get(e);return this.attach(n,i.previous,i)}addHead(n){const e=new Y(n);return e.next=this.first,this.first?this.first.previous=e:this.last=e,this.first=e,this.size++,e}addTail(n){const e=new Y(n);return this.first?(e.previous=this.last,this.last.next=e,this.last=e):(this.first=e,this.last=e),this.size++,e}addManyAfter(n,e,i=T.Z){const r=this.find(a=>i(a.value,e));return r?this.attachMany(n,r,r.next):this.addManyTail(n)}addManyBefore(n,e,i=T.Z){const r=this.find(a=>i(a.value,e));return r?this.attachMany(n,r.previous,r):this.addManyHead(n)}addManyByIndex(n,e){if(e<0&&(e+=this.size),e<=0)return this.addManyHead(n);if(e>=this.size)return this.addManyTail(n);const i=this.get(e);return this.attachMany(n,i.previous,i)}addManyHead(n){return n.reduceRight((e,i)=>(e.unshift(this.addHead(i)),e),[])}addManyTail(n){return n.map(e=>this.addTail(e))}drop(){return{byIndex:n=>this.dropByIndex(n),byValue:(...n)=>this.dropByValue.apply(this,n),byValueAll:(...n)=>this.dropByValueAll.apply(this,n),head:()=>this.dropHead(),tail:()=>this.dropTail()}}dropMany(n){return{byIndex:e=>this.dropManyByIndex(n,e),head:()=>this.dropManyHead(n),tail:()=>this.dropManyTail(n)}}dropByIndex(n){n<0&&(n+=this.size);const e=this.get(n);return e?this.detach(e):void 0}dropByValue(n,e=T.Z){const i=this.findIndex(r=>e(r.value,n));return i<0?void 0:this.dropByIndex(i)}dropByValueAll(n,e=T.Z){const i=[];for(let r=this.first,a=0;r;a++,r=r.next)e(r.value,n)&&i.push(this.dropByIndex(a-i.length));return i}dropHead(){const n=this.first;if(n)return this.first=n.next,this.first?this.first.previous=void 0:this.last=void 0,this.size--,n}dropTail(){const n=this.last;if(n)return this.last=n.previous,this.last?this.last.next=void 0:this.first=void 0,this.size--,n}dropManyByIndex(n,e){if(n<=0)return[];if(e<0)e=Math.max(e+this.size,0);else if(e>=this.size)return[];n=Math.min(n,this.size-e);const i=[];for(;n--;){const r=this.get(e);i.push(this.detach(r))}return i}dropManyHead(n){if(n<=0)return[];n=Math.min(n,this.size);const e=[];for(;n--;)e.unshift(this.dropHead());return e}dropManyTail(n){if(n<=0)return[];n=Math.min(n,this.size);const e=[];for(;n--;)e.push(this.dropTail());return e}find(n){for(let e=this.first,i=0;e;i++,e=e.next)if(n(e,i,this))return e}findIndex(n){for(let e=this.first,i=0;e;i++,e=e.next)if(n(e,i,this))return i;return-1}forEach(n){for(let e=this.first,i=0;e;i++,e=e.next)n(e,i,this)}get(n){return this.find((e,i)=>n===i)}indexOf(n,e=T.Z){return this.findIndex(i=>e(i.value,n))}toArray(){const n=new Array(this.size);return this.forEach((e,i)=>n[i]=e.value),n}toNodeArray(){const n=new Array(this.size);return this.forEach((e,i)=>n[i]=e),n}toString(n=JSON.stringify){return this.toArray().map(e=>n(e)).join(" <-> ")}*[Symbol.iterator](){for(let n=this.first,e=0;n;e++,n=n.next)yield n.value}}var Q=f(6166),P=f(1765);const Et=["field"];function Ft(o,n){}function At(o,n){if(1&o&&(t.YNc(0,Ft,0,0,"ng-template",13),t._UZ(1,"input",14,15)),2&o){const e=t.oxw(2),i=t.MAs(2);t.Q6J("ngTemplateOutlet",i),t.xp6(1),t.Q6J("id",e.prop.id)("formControlName",e.prop.name)("autocomplete",e.prop.autocomplete)("type",e.getType(e.prop))("abpDisabled",e.disabled)("readonly",e.readonly)}}function Mt(o,n){if(1&o&&t._UZ(0,"input",16),2&o){const e=t.oxw(2);t.Q6J("formControlName",e.prop.name)}}function Dt(o,n){}const Nt=function(){return{$implicit:"form-check-label"}};function Pt(o,n){if(1&o&&(t.TgZ(0,"div",17),t._UZ(1,"input",18,15),t.YNc(3,Dt,0,0,"ng-template",19),t.qZA()),2&o){const e=t.oxw(2),i=t.MAs(2);t.xp6(1),t.Q6J("id",e.prop.id)("formControlName",e.prop.name)("abpDisabled",e.disabled),t.xp6(2),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(5,Nt))}}function Ot(o,n){}function kt(o,n){if(1&o&&(t.TgZ(0,"option",22),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("ngValue",e.value),t.xp6(1),t.hij(" ",e.key," ")}}function It(o,n){if(1&o&&(t.YNc(0,Ot,0,0,"ng-template",13),t.TgZ(1,"select",20,15),t.YNc(3,kt,2,2,"option",21),t.ALo(4,"async"),t.qZA()),2&o){const e=t.oxw(2),i=t.MAs(2);t.Q6J("ngTemplateOutlet",i),t.xp6(1),t.Q6J("id",e.prop.id)("formControlName",e.prop.name)("abpDisabled",e.disabled),t.xp6(2),t.Q6J("ngForOf",t.lcZ(4,6,e.options$))("ngForTrackBy",e.track.by("value"))}}function Jt(o,n){}function Yt(o,n){if(1&o&&(t.TgZ(0,"option",22),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("ngValue",e.value),t.xp6(1),t.hij(" ",e.key," ")}}function Qt(o,n){if(1&o&&(t.YNc(0,Jt,0,0,"ng-template",13),t.TgZ(1,"select",23,15),t.YNc(3,Yt,2,2,"option",21),t.ALo(4,"async"),t.qZA()),2&o){const e=t.oxw(2),i=t.MAs(2);t.Q6J("ngTemplateOutlet",i),t.xp6(1),t.Q6J("id",e.prop.id)("formControlName",e.prop.name)("abpDisabled",e.disabled),t.xp6(2),t.Q6J("ngForOf",t.lcZ(4,6,e.options$))("ngForTrackBy",e.track.by("value"))}}function Zt(o,n){}const Lt=function(){return{standalone:!0}};function Bt(o,n){if(1&o){const e=t.EpF();t.YNc(0,Zt,0,0,"ng-template",13),t.TgZ(1,"div",24,25),t.TgZ(3,"input",26,15),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw(2).typeaheadModel=r})("selectItem",function(r){return t.CHM(e),t.oxw(2).setTypeaheadValue(r.item)})("blur",function(){t.CHM(e);const r=t.oxw(2);return r.setTypeaheadValue(r.typeaheadModel)}),t.qZA(),t._UZ(5,"input",16),t.qZA()}if(2&o){const e=t.MAs(2),i=t.oxw(2),r=t.MAs(2);t.Q6J("ngTemplateOutlet",r),t.xp6(3),t.ekj("is-invalid",e.classList.contains("is-invalid")),t.Q6J("id",i.prop.id)("autocomplete",i.prop.autocomplete)("abpDisabled",i.disabled)("ngbTypeahead",i.search)("editable",!1)("inputFormatter",i.typeaheadFormatter)("resultFormatter",i.typeaheadFormatter)("ngModelOptions",t.DdM(13,Lt))("ngModel",i.typeaheadModel),t.xp6(2),t.Q6J("formControlName",i.prop.name)}}function St(o,n){}function $t(o,n){if(1&o){const e=t.EpF();t.YNc(0,St,0,0,"ng-template",13),t.TgZ(1,"input",27,28),t.NdJ("click",function(){return t.CHM(e),t.MAs(2).open()})("keyup.space",function(){return t.CHM(e),t.MAs(2).open()}),t.qZA()}if(2&o){const e=t.oxw(2),i=t.MAs(2);t.Q6J("ngTemplateOutlet",i),t.xp6(1),t.Q6J("id",e.prop.id)("formControlName",e.prop.name)}}function zt(o,n){}function jt(o,n){if(1&o&&(t.YNc(0,zt,0,0,"ng-template",13),t._UZ(1,"ngb-timepicker",29)),2&o){const e=t.oxw(2),i=t.MAs(2);t.Q6J("ngTemplateOutlet",i),t.xp6(1),t.Q6J("formControlName",e.prop.name)}}function Gt(o,n){}function Rt(o,n){if(1&o&&(t.YNc(0,Gt,0,0,"ng-template",13),t._UZ(1,"abp-date-time-picker",30)),2&o){const e=t.oxw(2),i=t.MAs(2);t.Q6J("ngTemplateOutlet",i),t.xp6(1),t.Q6J("prop",e.prop)("meridian",e.meridian)}}function Vt(o,n){}function Ut(o,n){if(1&o&&(t.YNc(0,Vt,0,0,"ng-template",13),t._UZ(1,"textarea",31,15)),2&o){const e=t.oxw(2),i=t.MAs(2);t.Q6J("ngTemplateOutlet",i),t.xp6(1),t.Q6J("id",e.prop.id)("formControlName",e.prop.name)("abpDisabled",e.disabled)("readonly",e.readonly)}}function Ht(o,n){if(1&o&&(t.TgZ(0,"div",2),t.YNc(1,At,3,7,"ng-template",3),t.YNc(2,Mt,1,1,"ng-template",4),t.YNc(3,Pt,4,6,"ng-template",5),t.YNc(4,It,5,8,"ng-template",6),t.YNc(5,Qt,5,8,"ng-template",7),t.YNc(6,Bt,6,14,"ng-template",8),t.YNc(7,$t,3,3,"ng-template",9),t.YNc(8,jt,2,2,"ng-template",10),t.YNc(9,Rt,2,3,"ng-template",11),t.YNc(10,Ut,3,5,"ng-template",12),t.qZA()),2&o){const e=t.oxw();t.Q6J("ngSwitch",e.getComponent(e.prop))}}function Wt(o,n){if(1&o&&(t.TgZ(0,"label",32),t._uU(1),t.ALo(2,"abpLocalization"),t.qZA()),2&o){const e=n.$implicit,i=t.oxw();t.Q6J("htmlFor",i.prop.id)("ngClass",e||"form-label"),t.xp6(1),t.AsE("",t.lcZ(2,4,i.prop.displayName)," ",i.asterisk,"")}}function qt(o,n){if(1&o&&(t.ynx(0,5),t._UZ(1,"abp-extensible-form-prop",6),t.BQk()),2&o){const e=t.oxw(2).$implicit,i=t.oxw().$implicit,r=t.oxw(2);t.Q6J("formGroupName",r.extraPropertiesKey),t.xp6(1),t.Q6J("prop",e)("data",i)}}function Xt(o,n){if(1&o&&t._UZ(0,"abp-extensible-form-prop",8),2&o){const e=t.oxw(3),i=e.$implicit,r=e.first,a=t.oxw().$implicit;t.Q6J("prop",i)("data",a)("first",r)}}function Kt(o,n){if(1&o&&t.YNc(0,Xt,1,3,"abp-extensible-form-prop",7),2&o){const e=t.oxw(2).$implicit,i=t.oxw(3);t.Q6J("ngIf",i.form.get(e.name))}}function te(o,n){if(1&o&&(t.ynx(0),t.YNc(1,qt,2,3,"ng-container",3),t.YNc(2,Kt,1,1,"ng-template",null,4,t.W1O),t.BQk()),2&o){const e=t.MAs(3),i=t.oxw().$implicit,r=t.oxw(3);t.xp6(1),t.Q6J("ngIf",r.extraProperties.controls[i.name])("ngIfElse",e)}}function ee(o,n){if(1&o&&(t.ynx(0),t.YNc(1,te,4,2,"ng-container",0),t.BQk()),2&o){const e=n.$implicit,i=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.visible(i))}}function ne(o,n){if(1&o&&(t.ynx(0),t.YNc(1,ee,2,1,"ng-container",2),t.BQk()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.propList)("ngForTrackBy",e.track.by("name"))}}function oe(o,n){if(1&o&&(t.ynx(0),t.YNc(1,ne,2,2,"ng-container",1),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("abpPropDataFromList",e.propList)("abpPropDataWithRecord",e.record)}}const O=function(o){return{$implicit:o}};function ie(o,n){if(1&o&&t.GkF(0,10),2&o){const e=n.$implicit;t.oxw(2);const i=t.MAs(3);t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(2,O,e))}}function re(o,n){if(1&o&&(t.TgZ(0,"div",5),t.TgZ(1,"button",6),t._UZ(2,"i",7),t._uU(3),t.ALo(4,"abpLocalization"),t.qZA(),t.TgZ(5,"div",8),t.YNc(6,ie,1,4,"ng-container",9),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(2),t.ekj("me-1",e.icon),t.Q6J("ngClass",e.icon),t.xp6(1),t.hij("",t.lcZ(4,6,e.text)," "),t.xp6(3),t.Q6J("ngForOf",e.actionList)("ngForTrackBy",e.trackByFn)}}function ae(o,n){if(1&o&&t.GkF(0,10),2&o){const e=t.oxw(),i=t.MAs(7);t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(2,O,e.actionList.get(0).value))}}function se(o,n){1&o&&t.GkF(0)}function ce(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).$implicit,a=t.oxw();return r.action(a.data)}),t.YNc(1,se,1,0,"ng-container",14),t.qZA()}if(2&o){const e=t.oxw(2).$implicit;t.oxw();const i=t.MAs(5);t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(2,O,e))}}function le(o,n){if(1&o&&(t.ynx(0),t.YNc(1,ce,2,4,"button",12),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("abpPermission",e.permission)}}function pe(o,n){if(1&o&&t.YNc(0,le,2,1,"ng-container",11),2&o){const e=n.$implicit,i=t.oxw();t.Q6J("ngIf",e.visible(i.data))}}function de(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"abpLocalization"),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.text))}}function me(o,n){if(1&o&&(t.TgZ(0,"div",17),t._uU(1),t.ALo(2,"abpLocalization"),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.text))}}function ue(o,n){if(1&o&&(t._UZ(0,"i",7),t.YNc(1,de,3,3,"span",15),t.YNc(2,me,3,3,"ng-template",null,16,t.W1O)),2&o){const e=n.$implicit,i=t.MAs(3);t.ekj("me-1",e.icon),t.Q6J("ngClass",e.icon),t.xp6(1),t.Q6J("ngIf",e.icon)("ngIfElse",i)}}function _e(o,n){1&o&&t.GkF(0)}function fe(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).$implicit,a=t.oxw();return r.action(a.data)}),t.YNc(1,_e,1,0,"ng-container",14),t.qZA()}if(2&o){const e=t.oxw(2).$implicit;t.oxw();const i=t.MAs(5);t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(2,O,e))}}function ge(o,n){if(1&o&&(t.ynx(0),t.YNc(1,fe,2,4,"button",18),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("abpPermission",e.permission)}}function he(o,n){if(1&o&&t.YNc(0,ge,2,1,"ng-container",11),2&o){const e=n.$implicit,i=t.oxw();t.Q6J("ngIf",e.visible(i.data))}}function xe(o,n){1&o&&t.GkF(0)}function be(o,n){if(1&o&&t._UZ(0,"abp-grid-actions",7),2&o){const e=t.oxw(),r=e.row;t.Q6J("index",e.rowIndex)("record",r)}}const Te=function(o,n){return{$implicit:o,index:n}};function ye(o,n){if(1&o&&(t.YNc(0,xe,1,0,"ng-container",5),t.YNc(1,be,1,2,"ng-template",null,6,t.W1O)),2&o){const e=n.row,i=n.rowIndex,r=t.MAs(2),a=t.oxw(2);t.Q6J("ngTemplateOutlet",a.actionsTemplate||r)("ngTemplateOutletContext",t.WLB(2,Te,e,i))}}function Ce(o,n){if(1&o&&(t.TgZ(0,"ngx-datatable-column",3),t.ALo(1,"abpLocalization"),t.YNc(2,ye,3,5,"ng-template",4),t.qZA()),2&o){const e=t.oxw();t.Q6J("name",t.lcZ(1,4,e.actionsText))("maxWidth",e.columnWidths[0])("width",e.columnWidths[0])("sortable",!1)}}function ve(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(3),a=r.row,s=r.index,p=t.oxw().$implicit,u=t.oxw();return p.action&&p.action({getInjected:u.getInjected,record:a,index:s})}),t.ALo(1,"async"),t.qZA()}if(2&o){const e=t.oxw(3).row,i=t.oxw().$implicit;t.ekj("pointer",i.action),t.Q6J("innerHTML",t.lcZ(1,3,null==e["_"+i.name]?null:e["_"+i.name].value),t.oJD)}}function we(o,n){if(1&o&&(t.ynx(0),t.YNc(1,ve,2,5,"div",12),t.BQk()),2&o){t.oxw();const e=t.MAs(3),i=t.oxw().row,r=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!i["_"+r.name].component)("ngIfElse",e)}}function Ee(o,n){1&o&&t.GkF(0)}function Fe(o,n){if(1&o&&t.YNc(0,Ee,1,0,"ng-container",14),2&o){const e=t.oxw(2).row,i=t.oxw().$implicit;t.Q6J("ngComponentOutlet",e["_"+i.name].component)("ngComponentOutletInjector",e["_"+i.name].injector)}}function Ae(o,n){if(1&o&&(t.ynx(0),t.YNc(1,we,2,2,"ng-container",10),t.YNc(2,Fe,1,2,"ng-template",null,11,t.W1O),t.BQk()),2&o){const e=t.oxw().row,i=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==e["_"+i.name]?null:e["_"+i.name].visible)}}function Me(o,n){if(1&o&&t.YNc(0,Ae,4,1,"ng-container",9),2&o){const e=t.oxw().$implicit;t.Q6J("abpPermission",e.permission)}}function De(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"ngx-datatable-column",8),t.ALo(2,"abpLocalization"),t.YNc(3,Me,1,1,"ng-template",4),t.qZA(),t.BQk()),2&o){const e=n.$implicit,i=n.index,r=t.oxw();t.xp6(1),t.Q6J("width",r.columnWidths[i+1]||200)("name",t.lcZ(2,4,e.displayName))("prop",e.name)("sortable",e.sortable)}}function Ne(o,n){1&o&&t.GkF(0)}function Pe(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Ne,1,0,"ng-container",7),t.BQk()),2&o){const e=n.ngIf,i=t.oxw(3).$implicit,r=t.oxw();t.xp6(1),t.Q6J("ngComponentOutlet",e)("ngComponentOutletInjector",r.createInjector(i))}}function Oe(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(3).$implicit,a=t.oxw();return r.action(a.data)}),t._UZ(1,"i",9),t._uU(2),t.ALo(3,"abpLocalization"),t.qZA()}if(2&o){const e=t.oxw(3).$implicit;t.xp6(1),t.ekj("me-1",e.icon),t.Q6J("ngClass",e.icon),t.xp6(1),t.hij(" ",t.lcZ(3,4,e.text)," ")}}function ke(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Pe,2,2,"ng-container",5),t.YNc(2,Oe,4,6,"ng-template",null,6,t.W1O),t.BQk()),2&o){const e=t.MAs(3),i=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",i.component)("ngIfElse",e)}}function Ie(o,n){if(1&o&&(t.ynx(0),t.YNc(1,ke,4,2,"ng-container",4),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("abpPermission",e.permission)}}function Je(o,n){if(1&o&&(t.TgZ(0,"div",2),t.YNc(1,Ie,2,1,"ng-container",3),t.qZA()),2&o){const e=n.$implicit,i=n.last,r=t.oxw();t.ekj("pe-0",i),t.xp6(1),t.Q6J("ngIf",e.visible(r.data))}}let Z=(()=>{class o{fromModel(e){if(!e)return null;const i=new Date(e);return isNaN(i)?null:(this.value={year:i.getFullYear(),month:i.getMonth()+1,day:i.getDate(),hour:i.getHours(),minute:i.getMinutes(),second:i.getSeconds()},this.value)}toModel(e){if(!e)return"";e=Object.assign(Object.assign({},this.value),e);const i=new Date(e.year,e.month-1,e.day,e.hour,e.minute,e.second);return new Date(i).toISOString()}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),H=(()=>{class o extends _.DO{fromModel(e){if(!e)return null;let i;return i="string"==typeof e?this.dateOf(e):new Date(e),isNaN(i)?null:{day:i.getDate(),month:i.getMonth()+1,year:i.getFullYear()}}toModel(e){if(!e)return"";const i=new Date(e.year,e.month-1,e.day);return(0,m.p6)(i,"yyyy-MM-dd","en")}dateOf(e){const i=new Date(Date.parse(e));return new Date(i.getTime()+Math.abs(6e4*i.getTimezoneOffset()))}}return o.\u0275fac=function(){let n;return function(i){return(n||(n=t.n5z(o)))(i||o)}}(),o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),W=(()=>{class o extends _.Cw{fromModel(e){if(!e)return null;const i=function Ye(o){return/^((2[123])|[01][0-9])(\:[0-5][0-9]){1,2}$/.test(String(o))}(e)?new Date(0,0,1,...e.split(":").map(Number)):new Date(e);return isNaN(i)?null:{hour:i.getHours(),minute:i.getMinutes(),second:i.getSeconds()}}toModel(e){if(!e)return"";const i=new Date(0,0,1,e.hour,e.minute,e.second);return(0,m.p6)(i,"HH:mm","en")}}return o.\u0275fac=function(){let n;return function(i){return(n||(n=t.n5z(o)))(i||o)}}(),o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();function L(o){return o}let Qe=(()=>{class o{constructor(e){this.cdRef=e,this.meridian=!1}setDate(e){this.date.writeValue(e)}setTime(e){this.time.writeValue(e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["abp-date-time-picker"]],viewQuery:function(e,i){if(1&e&&(t.Gf(_.J4,5),t.Gf(_.Pm,5)),2&e){let r;t.iGM(r=t.CRH())&&(i.date=r.first),t.iGM(r=t.CRH())&&(i.time=r.first)}},inputs:{prop:"prop",meridian:"meridian"},exportAs:["abpDateTimePicker"],features:[t._Bn([],[{provide:l.gN,useFactory:L,deps:[[new t.FiY,new t.tp0,l.gN]]},{provide:_.DO,useClass:Z},{provide:_.Cw,useClass:Z}])],decls:4,vars:4,consts:[["ngbDatepicker","","type","text",1,"form-control",3,"id","formControlName","ngModelChange","click","keyup.space"],["datepicker","ngbDatepicker"],[3,"formControlName","meridian","ngModelChange"],["timepicker",""]],template:function(e,i){if(1&e){const r=t.EpF();t.TgZ(0,"input",0,1),t.NdJ("ngModelChange",function(s){return i.setTime(s)})("click",function(){return t.CHM(r),t.MAs(1).open()})("keyup.space",function(){return t.CHM(r),t.MAs(1).open()}),t.qZA(),t.TgZ(2,"ngb-timepicker",2,3),t.NdJ("ngModelChange",function(s){return i.setDate(s)}),t.qZA()}2&e&&(t.Q6J("id",i.prop.id)("formControlName",i.prop.name),t.xp6(2),t.Q6J("formControlName",i.prop.name)("meridian",i.meridian))},directives:[_.Pm,_.J4,l.Fj,l.JJ,l.u,y.J5],encapsulation:2,changeDetection:0}),o})();const v="extraProperties",q="_Text",X=/_Text$/;function K(o){return o+q}let ze=(()=>{class o{constructor(e){this.ngControl=e,this.abpDisabled=!1}ngOnChanges({abpDisabled:e}){this.ngControl.control&&e&&this.ngControl.control[e.currentValue?"disable":"enable"]()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.a5,1))},o.\u0275dir=t.lG2({type:o,selectors:[["","abpDisabled",""]],inputs:{abpDisabled:"abpDisabled"},features:[t.TTD]}),o})(),tt=(()=>{class o{constructor(e,i,r,a){this.cdRef=e,this.track=i,this.configState=r,this.asterisk="",this.options$=(0,C.of)([]),this.validators=[],this.search=s=>s?s.pipe((0,Ct.b)(300),(0,vt.x)(),(0,V.w)(p=>this.prop.options(this.data,p))):(0,C.of)([]),this.typeaheadFormatter=s=>s.key,this.form=a.form}setTypeaheadValue(e){this.typeaheadModel=e||{key:null,value:null};const{key:i,value:r}=this.typeaheadModel,[a,s]=this.getTypeaheadControls();(null==s?void 0:s.value)&&!r&&s.markAsDirty(),null==a||a.setValue(i),null==s||s.setValue(r)}get meridian(){return(this.configState.getDeep("localization.currentCulture.dateTimeFormat.shortTimePattern")||"").includes("tt")}get isInvalid(){const e=this.form.get(this.prop.name);return e.touched&&e.invalid}getTypeaheadControls(){const{name:e}=this.prop,i=`${v}.${e}`;return[this.form.get(K(i))||this.form.get(K(e)),this.form.get(i)||this.form.get(e)]}setAsterisk(){this.asterisk=this.validators.some(je)?"*":""}ngAfterViewInit(){this.first&&this.fieldRef&&this.fieldRef.nativeElement.focus()}getComponent(e){switch(e.type){case"boolean":return"checkbox";case"date":return"date";case"dateTime":return"dateTime";case"hidden":return"hidden";case"multiselect":return"multiselect";case"text":return"textarea";case"time":return"time";case"typeahead":return"typeahead";default:return e.options?"select":"input"}}getType(e){switch(e.type){case"date":case"string":return"text";case"boolean":return"checkbox";case"number":return"number";case"email":return"email";case"password":return"password";default:return"hidden"}}ngOnChanges({prop:e}){const i=null==e?void 0:e.currentValue,{options:r,readonly:a,disabled:s,validators:p}=i||{};r&&(this.options$=r(this.data)),a&&(this.readonly=a(this.data)),s&&(this.disabled=s(this.data)),p&&(this.validators=p(this.data),this.setAsterisk());const[u,c]=this.getTypeaheadControls();u&&c&&(this.typeaheadModel={key:u.value,value:c.value})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.sBO),t.Y36(d.vR3),t.Y36(d.XJE),t.Y36(l.sg))},o.\u0275cmp=t.Xpm({type:o,selectors:[["abp-extensible-form-prop"]],viewQuery:function(e,i){if(1&e&&t.Gf(Et,5),2&e){let r;t.iGM(r=t.CRH())&&(i.fieldRef=r.first)}},inputs:{data:"data",prop:"prop",first:"first"},features:[t._Bn([],[{provide:l.gN,useFactory:L,deps:[[new t.FiY,new t.tp0,l.gN]]},{provide:_.DO,useClass:H},{provide:_.Cw,useClass:W}]),t.TTD],decls:3,vars:1,consts:[["class","mb-3 form-group",3,"ngSwitch",4,"abpPermission"],["label",""],[1,"mb-3","form-group",3,"ngSwitch"],["ngSwitchCase","input"],["ngSwitchCase","hidden"],["ngSwitchCase","checkbox"],["ngSwitchCase","select"],["ngSwitchCase","multiselect"],["ngSwitchCase","typeahead"],["ngSwitchCase","date"],["ngSwitchCase","time"],["ngSwitchCase","dateTime"],["ngSwitchCase","textarea"],[3,"ngTemplateOutlet"],[1,"form-control",3,"id","formControlName","autocomplete","type","abpDisabled","readonly"],["field",""],["type","hidden",3,"formControlName"],["validationTarget","",1,"form-check"],["type","checkbox",1,"form-check-input",3,"id","formControlName","abpDisabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"form-select","form-control",3,"id","formControlName","abpDisabled"],[3,"ngValue",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngValue"],["multiple","multiple",1,"form-select","form-control",3,"id","formControlName","abpDisabled"],["validationStyle","","validationTarget","",1,"position-relative"],["typeahead",""],[1,"form-control",3,"id","autocomplete","abpDisabled","ngbTypeahead","editable","inputFormatter","resultFormatter","ngModelOptions","ngModel","ngModelChange","selectItem","blur"],["ngbDatepicker","","type","text",1,"form-control",3,"id","formControlName","click","keyup.space"],["datepicker","ngbDatepicker"],[3,"formControlName"],[3,"prop","meridian"],[1,"form-control",3,"id","formControlName","abpDisabled","readonly"],[3,"htmlFor","ngClass"]],template:function(e,i){1&e&&(t.YNc(0,Ht,11,1,"div",0),t.YNc(1,Wt,3,6,"ng-template",null,1,t.W1O)),2&e&&t.Q6J("abpPermission",i.prop.permission)},directives:[_.Pm,Qe,d.l97,m.RF,m.n9,m.tP,l.Fj,l.JJ,l.u,y.J5,ze,y.kG,l.Wl,l.EJ,m.sg,l.YN,l.Kr,l.K7,y.Wh,_.dR,l.On,_.J4,m.mk],pipes:[m.Ov,d.fuE],encapsulation:2,changeDetection:0}),o})();function je(o){return o===l.kI.required||o===d.KFU.required}const w=new t.OlP("EXTENSIONS_IDENTIFIER"),B=new t.OlP("EXTENSIONS_ACTION_TYPE"),Ge=new t.OlP("EXTENSIONS_ACTION_DATA"),Re=new t.OlP("EXTENSIONS_ACTION_DATA"),Ve=new t.OlP("PROP_DATA_STREAM");class et extends N{}class nt{constructor(n,e=(r=>!0),i=(r=>{})){this.permission=n,this.visible=e,this.action=i}}class ot{constructor(){this.contributorCallbacks={}}get(n){return this.contributorCallbacks[n]=this.contributorCallbacks[n]||[],new this._ctor(this.contributorCallbacks[n])}}class it{constructor(n){this.callbackList=n}get actions(){const n=new this._ctor;return this.callbackList.forEach(e=>e(n)),n}addContributor(n){this.callbackList.push(n)}clearContributors(){for(;this.callbackList.length;)this.callbackList.pop()}}class He extends et{}class We extends it{constructor(){super(...arguments),this._ctor=He}}class qe extends ot{constructor(){super(...arguments),this._ctor=We}}class k extends nt{constructor(n){super(n.permission,n.visible,n.action),this.text=n.text,this.icon=n.icon||""}static create(n){return new k(n)}static createMany(n){return n.map(k.create)}}class rt extends N{}class at{get data(){return{getInjected:this.getInjected,index:this.index,record:this.record}}}class st{constructor(n,e,i,r,a=(p=>!0),s=!1){this.type=n,this.name=e,this.displayName=i,this.permission=r,this.visible=a,this.isExtra=s,this.displayName=this.displayName||this.name}}class S{constructor(){this.contributorCallbacks={}}get(n){return this.contributorCallbacks[n]=this.contributorCallbacks[n]||[],new this._ctor(this.contributorCallbacks[n])}}class ct{constructor(n){this.callbackList=n}get props(){const n=new this._ctor;return this.callbackList.forEach(e=>e(n)),n}addContributor(n){this.callbackList.push(n)}clearContributors(){for(;this.callbackList.length;)this.callbackList.pop()}}class Xe extends rt{}class Ke extends ct{constructor(){super(...arguments),this._ctor=Xe}}class tn extends S{constructor(){super(...arguments),this._ctor=Ke}}class E extends st{constructor(n){super(n.type,n.name,n.displayName,n.permission,n.visible,n.isExtra),this.columnWidth=n.columnWidth,this.sortable=n.sortable||!1,this.valueResolver=n.valueResolver||(e=>(0,C.of)((0,d.F04)(e.record[this.name]))),this.action=n.action,this.component=n.component,this.enumList=n.enumList}static create(n){return new E(n)}static createMany(n){return n.map(E.create)}}class en extends rt{}class lt extends ct{constructor(){super(...arguments),this._ctor=en}}class nn extends S{constructor(){super(...arguments),this._ctor=lt}}class on extends S{constructor(){super(...arguments),this._ctor=lt}}class F extends st{constructor(n){super(n.type,n.name,n.displayName,n.permission,n.visible,n.isExtra),this.asyncValidators=n.asyncValidators||(i=>[]),this.validators=n.validators||(i=>[]),this.disabled=n.disabled||(i=>!1),this.readonly=n.readonly||(i=>!1),this.autocomplete=n.autocomplete||"off",this.options=n.options,this.id=n.id||n.name;const e=n.defaultValue;this.defaultValue=function an(o){return[0,"",!1].indexOf(o)>-1}(e)?e:e||null}static create(n){return new F(n)}static createMany(n){return n.map(F.create)}}class rn extends at{constructor(n,e){super(),this.record=e,this.getInjected=n.get.bind(n)}}class sn extends et{}class cn extends it{constructor(){super(...arguments),this._ctor=sn}}class ln extends ot{constructor(){super(...arguments),this._ctor=cn}}class I extends nt{constructor(n){super(n.permission||"",n.visible,n.action),this.text=n.text,this.icon=n.icon||""}static create(n){return new I(n)}static createMany(n){return n.map(I.create)}}let A=(()=>{class o{constructor(){this.entityActions=new qe,this.toolbarActions=new ln,this.entityProps=new tn,this.createFormProps=new nn,this.editFormProps=new on}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),pn=(()=>{class o extends at{constructor(e,i,r){super(),this.tempRef=e,this.vcRef=i,this.getInjected=r.get.bind(r)}ngOnChanges(){this.vcRef.clear(),this.vcRef.createEmbeddedView(this.tempRef,{$implicit:this.data,index:0})}ngOnDestroy(){this.vcRef.clear()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.Rgc),t.Y36(t.s_b),t.Y36(t.zs3))},o.\u0275dir=t.lG2({type:o,selectors:[["","abpPropData",""]],inputs:{propList:["abpPropDataFromList","propList"],record:["abpPropDataWithRecord","record"],index:["abpPropDataAtIndex","index"]},exportAs:["abpPropData"],features:[t.qOj,t.TTD]}),o})(),dn=(()=>{class o{constructor(e,i,r,a,s){this.cdRef=e,this.track=i,this.container=r,this.extensions=a,this.identifier=s,this.extraPropertiesKey=v}set selectedRecord(e){const i=e&&"{}"!==JSON.stringify(e)?"edit":"create";this.propList=this.extensions[`${i}FormProps`].get(this.identifier).props,this.record=e}get form(){return this.container?this.container.control:{controls:{}}}get extraProperties(){return this.form.controls.extraProperties||{controls:{}}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.sBO),t.Y36(d.vR3),t.Y36(l.gN),t.Y36(A),t.Y36(w))},o.\u0275cmp=t.Xpm({type:o,selectors:[["abp-extensible-form"]],viewQuery:function(e,i){if(1&e&&t.Gf(tt,5),2&e){let r;t.iGM(r=t.CRH())&&(i.formProps=r)}},inputs:{selectedRecord:"selectedRecord"},exportAs:["abpExtensibleForm"],features:[t._Bn([],[{provide:l.gN,useFactory:L,deps:[[new t.FiY,new t.tp0,l.gN]]}])],decls:1,vars:1,consts:[[4,"ngIf"],[4,"abpPropData","abpPropDataFromList","abpPropDataWithRecord"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"formGroupName",4,"ngIf","ngIfElse"],["tempDefault",""],[3,"formGroupName"],[3,"prop","data"],[3,"prop","data","first",4,"ngIf"],[3,"prop","data","first"]],template:function(e,i){1&e&&t.YNc(0,oe,2,2,"ng-container",0),2&e&&t.Q6J("ngIf",i.form)},directives:[tt,m.O5,pn,m.sg,l.JL,l.x0,y.hL],encapsulation:2,changeDetection:0}),o})(),pt=(()=>{class o extends class Ue{get data(){return{getInjected:this.getInjected,index:this.index,record:this.record}}}{constructor(e){super(),this.getInjected=e.get.bind(e);const i=e.get(A),r=e.get(w),a=e.get(B);this.actionList=i[a].get(r).actions}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.zs3))},o.\u0275dir=t.lG2({type:o,inputs:{record:"record"},features:[t.qOj]}),o})(),mn=(()=>{class o extends pt{constructor(e){super(e),this.icon="fa fa-cog",this.text="",this.trackByFn=(i,r)=>r.text}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.zs3))},o.\u0275cmp=t.Xpm({type:o,selectors:[["abp-grid-actions"]],inputs:{icon:"icon",index:"index",text:"text"},exportAs:["abpGridActions"],features:[t._Bn([{provide:B,useValue:"entityActions"}]),t.qOj],decls:8,vars:2,consts:[["ngbDropdown","","container","body","class","d-inline-block",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["dropDownBtnItemTmp",""],["buttonContentTmp",""],["btnTmp",""],["ngbDropdown","","container","body",1,"d-inline-block"],["data-toggle","dropdown","aria-haspopup","true","ngbDropdownToggle","",1,"btn","btn-primary","btn-sm","dropdown-toggle"],[3,"ngClass"],["ngbDropdownMenu",""],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],["ngbDropdownItem","","type","button",3,"click",4,"abpPermission"],["ngbDropdownItem","","type","button",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf","ngIfElse"],["ellipsis",""],["abpEllipsis",""],["type","button","class","btn btn-primary text-center",3,"click",4,"abpPermission"],["type","button",1,"btn","btn-primary","text-center",3,"click"]],template:function(e,i){1&e&&(t.YNc(0,re,7,8,"div",0),t.YNc(1,ae,1,4,"ng-container",1),t.YNc(2,pe,1,1,"ng-template",null,2,t.W1O),t.YNc(4,ue,4,5,"ng-template",null,3,t.W1O),t.YNc(6,he,1,1,"ng-template",null,4,t.W1O)),2&e&&(t.Q6J("ngIf",i.actionList.length>1),t.xp6(1),t.Q6J("ngIf",1===i.actionList.length))},directives:[m.O5,_.jt,_.iD,m.mk,_.Vi,m.sg,m.tP,d.l97,_.TH,P.NF],pipes:[d.fuE],encapsulation:2,changeDetection:0}),o})(),_n=(()=>{class o{constructor(e,i,r){this.locale=e,this.config=i,this.injector=r,this.trackByFn=(u,c)=>c.name,this.getInjected=r.get.bind(r);const a=r.get(A),s=r.get(w);this.propList=a.entityProps.get(s).props,this.actionList=a.entityActions.get(s).actions;const p=r.get(d.$AH);this.hasAtLeastOnePermittedAction=p.filterItemsByPolicy(this.actionList.toArray().map(u=>({requiredPolicy:u.permission}))).length>0,this.setColumnWidths(150)}set actionsText(e){this._actionsText=e}get actionsText(){var e;return null!==(e=this._actionsText)&&void 0!==e?e:this.actionList.length>1?"AbpUi::Actions":""}set actionsColumnWidth(e){this.setColumnWidths(e?Number(e):void 0)}setColumnWidths(e){const i=[e];this.propList.forEach(({value:r})=>{i.push(r.columnWidth)}),this.columnWidths=i}getDate(e,i){return e?(0,m.p6)(e,i,this.locale):""}getIcon(e){return e?'<div class="text-center text-success"><i class="fa fa-check"></i></div>':'<div class="text-center text-danger"><i class="fa fa-times"></i></div>'}getEnum(e,i){if(!i)return e;const{key:r}=i.find(({value:a})=>a===e);return r}getContent(e,i){return e.valueResolver(i).pipe((0,b.U)(r=>{switch(e.type){case"boolean":return this.getIcon(r);case"date":return this.getDate(r,(0,d.kZ)(this.config));case"time":return this.getDate(r,(0,d.TK_)(this.config));case"dateTime":return this.getDate(r,(0,d.sN5)(this.config));case"enum":return this.getEnum(r,e.enumList);default:return r}}))}ngOnChanges({data:e}){!(null==e?void 0:e.currentValue)||(this.data=e.currentValue.map((i,r)=>(this.propList.forEach(a=>{const s={getInjected:this.getInjected,record:i,index:r},p=this.getContent(a.value,s),u=`_${a.value.name}`;if(i[u]={visible:a.value.visible(s),value:p},a.value.component){const c=t.zs3.create([{provide:Ve,useValue:p}],this.injector);i[u].injector=c,i[u].component=a.value.component}}),i)))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.soG),t.Y36(d.XJE),t.Y36(t.zs3))},o.\u0275cmp=t.Xpm({type:o,selectors:[["abp-extensible-table"]],inputs:{actionsText:"actionsText",data:"data",list:"list",recordsTotal:"recordsTotal",actionsColumnWidth:"actionsColumnWidth",actionsTemplate:"actionsTemplate"},exportAs:["abpExtensibleTable"],features:[t.TTD],decls:3,vars:6,consts:[["default","",3,"rows","count","list"],[3,"name","maxWidth","width","sortable",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"name","maxWidth","width","sortable"],["ngx-datatable-cell-template",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["gridActions",""],["text","AbpUi::Actions",3,"index","record"],[3,"width","name","prop","sortable"],[4,"abpPermission"],[4,"ngIf"],["component",""],[3,"innerHTML","pointer","click",4,"ngIf","ngIfElse"],[3,"innerHTML","click"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(e,i){1&e&&(t.TgZ(0,"ngx-datatable",0),t.YNc(1,Ce,3,6,"ngx-datatable-column",1),t.YNc(2,De,4,6,"ng-container",2),t.qZA()),2&e&&(t.Q6J("rows",i.data)("count",i.recordsTotal)("list",i.list),t.xp6(1),t.Q6J("ngIf",i.actionsTemplate||i.actionList.length&&i.hasAtLeastOnePermittedAction),t.xp6(1),t.Q6J("ngForOf",i.propList)("ngForTrackBy",i.trackByFn))},directives:[Q.nE,mn,P.x7,P.j3,m.O5,Q.UC,Q.vq,m.tP,m.sg,d.l97,m.$G],pipes:[d.fuE,m.Ov],encapsulation:2,changeDetection:0}),o})(),fn=(()=>{class o extends pt{constructor(e){super(e),this.injector=e,this.trackByFn=(i,r)=>r.action||r.component}createInjector(e){return{get:(r,a,s)=>r===Ge?this.data:r===Re?(p=this.data)=>e.action(p):this.getInjected.call(this.injector,r,a,s)}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.zs3))},o.\u0275cmp=t.Xpm({type:o,selectors:[["abp-page-toolbar"]],exportAs:["abpPageToolbar"],features:[t._Bn([{provide:B,useValue:"toolbarActions"}]),t.qOj],decls:2,vars:2,consts:[["id","AbpContentToolbar",1,"row","justify-content-end","mx-0"],["class","col-auto px-1 pt-0 pt-md-2",3,"pe-0",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-auto","px-1","pt-0","pt-md-2"],[4,"ngIf"],[4,"abpPermission"],[4,"ngIf","ngIfElse"],["button",""],[4,"ngComponentOutlet","ngComponentOutletInjector"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[3,"ngClass"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Je,2,3,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",i.actionList)("ngForTrackBy",i.trackByFn))},directives:[m.sg,m.O5,d.l97,m.$G,m.mk],pipes:[d.fuE],encapsulation:2,changeDetection:0}),o})(),dt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[d.IR2,P.e2,y.h2,_.M,_.XC,_.UL,_.ZS]]}),o})(),gn=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[dt],dt]}),o})();function hn(o,n,...e){Object.keys(n).forEach(i=>{const r=o.get(i);r.clearContributors(),r.addContributor(a=>a.addManyTail(n[i])),e.forEach(a=>(a[i]||[]).forEach(s=>r.addContributor(s)))})}function xn(o){const n=o.getInjected(A),e=o.getInjected(w),i=new l.cw({}),r=new l.cw({});i.addControl(v,r);const a=o.record||{},p=n[("{}"===JSON.stringify(a)?"create":"edit")+"FormProps"].get(e).props,u=a[v]||{};return p.forEach(({value:c})=>{const h=c.name,M=c.isExtra||h in u;let g=M?u[h]:h in a?a[h]:void 0;if(void 0===g&&(g=c.defaultValue),g){let x;switch(c.type){case"date":x=new H,g=x.toModel(x.fromModel(g));break;case"time":x=new W,g=x.toModel(x.fromModel(g));break;case"dateTime":x=new Z,g=x.toModel(x.fromModel(g))}}const ft=new l.NI(g,{asyncValidators:c.asyncValidators(o),validators:c.validators(o)});(M?r:i).addControl(h,ft)}),i}function Tn(o,n,...e){Object.keys(n).forEach(i=>{const r=o.get(i);r.clearContributors(),r.addContributor(a=>a.addManyTail(n[i])),e.forEach(a=>(a[i]||[]).forEach(s=>r.addContributor(s)))})}function yn(o){const n={};return o.forEach(({name:e="",value:i})=>{n[n[e]=i]=e}),n}function mt(o,n){return(0,bt.T)((0,C.of)(null),o.languageChange$).pipe((0,b.U)(()=>n))}function ut(o,n,e){const i=e.localizationResource,r=function wn(o){return o.split(".").pop()}(n);return a=>o.localizeWithFallbackSync([i||""],["Enum:"+r+"."+a,r+"."+a,a],a)}function _t(o){return o.getOne$("objectExtensions")}function Dn(o,n){return _t(o).pipe((0,b.U)(e=>e?(e.modules[n]||{}).entities:null),(0,b.U)(e=>function kn(o){return void 0===o}(e)?{}:e),(0,wt.h)(Boolean),(0,U.q)(1))}function Nn(o,n){return(0,Tt.z)((0,V.w)(e=>(0,yt.$R)(function An(o){return o.getOne$("localization")}(o),function Mn(o){return _t(o).pipe((0,b.U)(n=>Object.keys(n.enums).reduce((e,i)=>{const{fields:r,localizationResource:a}=n.enums[i];return e[i]={fields:r,localizationResource:a,transformed:yn(r)},e},{})))}(o)).pipe((0,b.U)(([i,r])=>{const a=function En(o){const n=(0,d.ojK)(o);return(e,i)=>e&&e.name?n([e.resource||""],[e.name],e.name):n([i.resource||""],["DisplayName:"+i.name],void 0)||n([i.resource||""],[i.name||""],i.name)}(i);return Object.keys(e).reduce((s,p)=>{s.prop[p]=[],s.createForm[p]=[],s.editForm[p]=[];const u=e[p];if(!u)return s;const c=u.properties;return c?function Pn(o,n,e){return(i,r,a)=>{const p=function Be(o,n){return(e,i)=>{const r=function $e(o){return o.replace(X,"")}(i.name||"");return o(e||n[r].displayName,{name:r,resource:i.resource})}}(o,i);return Object.keys(i).forEach(u=>{const c=i[u],h=u,M=c.ui.lookup||{},g=function Le(o,n){return Boolean(o.url)?"typeahead":n.endsWith(q)?"hidden":void 0}(M,u)||function On(o){var n;return null===(n=null==o?void 0:o.typeSimple)||void 0===n?void 0:n.replace(/\?$/,"")}(c),x=(function Se(o){return X.test(o)}(u)?p:o)(c.displayName,{name:u,resource:n});if(c.ui.onTable.isVisible){const z=Boolean(c.ui.onTable.isSortable),j="boolean"===g?150:250,D="enum"===g?function Cn(o,n,e){return i=>{const a=n.transformed[i.record[v][e]],s=i.getInjected(d.oQ8);return mt(s,ut(s,o,n)(a))}}(c.type,e[c.type],h):function bn(o){return n=>(0,C.of)(n.record[v][o])}(h),G=new E({type:g,name:h,displayName:x,sortable:z,columnWidth:j,valueResolver:D,isExtra:true});r.prop[a].push(R=>R.addTail(G))}const gt=c.ui.onCreateForm.isVisible,ht=c.ui.onEditForm.isVisible;if(gt||ht){const z=c.defaultValue,j=()=>function Fn(o){const n=[];return o.attributes.forEach(e=>{e.typeSimple&&e.typeSimple in d.KFU&&n.push(d.KFU[e.typeSimple](e.config))}),n}(c);let D;"enum"===g?D=function vn(o,n){return e=>{const i=e.getInjected(d.oQ8),r=ut(i,o,n);return mt(i,n.fields.map(({name:a="",value:s})=>({key:r(a),value:s})))}}(h,e[c.type||""]):"typeahead"===g&&(D=function Ze(o){return(n,e)=>e&&n?n.getInjected(d.vgb).request({method:"GET",url:o.url||"",params:{[o.filterParamName||""]:e}},{apiName:"Default"}).pipe((0,b.U)(i=>i[o.resultListPropertyName||""].map(s=>({key:s[o.displayPropertyName||""],value:s[o.valuePropertyName||""]})))):(0,C.of)([])}(M));const G=new F({type:g,name:h,displayName:x,options:D,defaultValue:z,validators:j,isExtra:true}),J=R=>R.addTail(G);gt&&r.createForm[a].push(J),ht&&r.editForm[a].push(J)}}),r}}(a,n,r)(c,s,p):s},{prop:{},createForm:{},editForm:{}})}))),(0,U.q)(1))}}}]);